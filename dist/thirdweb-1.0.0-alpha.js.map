{"version":3,"file":"thirdweb-1.0.0-alpha.js","sources":["../node_modules/jwt-decode/lib/atob.js","../node_modules/jwt-decode/lib/base64_url_decode.js","../node_modules/jwt-decode/lib/index.js","../node_modules/postmate/build/postmate.es.js","../src/thirdweb.ts"],"sourcesContent":["/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","/**\n  postmate - A powerful, simple, promise-based postMessage library\n  @version v1.5.2\n  @link https://github.com/dollarshaveclub/postmate\n  @author Jacob Kelley <jakie8@gmail.com>\n  @license MIT\n**/\n/**\n * The type of messages our frames our sending\n * @type {String}\n */\nvar messageType = 'application/x-postmate-v1+json';\n/**\n * The maximum number of attempts to send a handshake request to the parent\n * @type {Number}\n */\n\nvar maxHandshakeRequests = 5;\n/**\n * A unique message ID that is used to ensure responses are sent to the correct requests\n * @type {Number}\n */\n\nvar _messageId = 0;\n/**\n * Increments and returns a message ID\n * @return {Number} A unique ID for a message\n */\n\nvar generateNewMessageId = function generateNewMessageId() {\n  return ++_messageId;\n};\n/**\n * Postmate logging function that enables/disables via config\n * @param  {Object} ...args Rest Arguments\n */\n\nvar log = function log() {\n  var _console;\n\n  return Postmate.debug ? (_console = console).log.apply(_console, arguments) : null;\n}; // eslint-disable-line no-console\n\n/**\n * Takes a URL and returns the origin\n * @param  {String} url The full URL being requested\n * @return {String}     The URLs origin\n */\n\nvar resolveOrigin = function resolveOrigin(url) {\n  var a = document.createElement('a');\n  a.href = url;\n  var protocol = a.protocol.length > 4 ? a.protocol : window.location.protocol;\n  var host = a.host.length ? a.port === '80' || a.port === '443' ? a.hostname : a.host : window.location.host;\n  return a.origin || protocol + \"//\" + host;\n};\nvar messageTypes = {\n  handshake: 1,\n  'handshake-reply': 1,\n  call: 1,\n  emit: 1,\n  reply: 1,\n  request: 1\n  /**\n   * Ensures that a message is safe to interpret\n   * @param  {Object} message The postmate message being sent\n   * @param  {String|Boolean} allowedOrigin The whitelisted origin or false to skip origin check\n   * @return {Boolean}\n   */\n\n};\nvar sanitize = function sanitize(message, allowedOrigin) {\n  if (typeof allowedOrigin === 'string' && message.origin !== allowedOrigin) return false;\n  if (!message.data) return false;\n  if (typeof message.data === 'object' && !('postmate' in message.data)) return false;\n  if (message.data.type !== messageType) return false;\n  if (!messageTypes[message.data.postmate]) return false;\n  return true;\n};\n/**\n * Takes a model, and searches for a value by the property\n * @param  {Object} model     The dictionary to search against\n * @param  {String} property  A path within a dictionary (i.e. 'window.location.href')\n * @param  {Object} data      Additional information from the get request that is\n *                            passed to functions in the child model\n * @return {Promise}\n */\n\nvar resolveValue = function resolveValue(model, property) {\n  var unwrappedContext = typeof model[property] === 'function' ? model[property]() : model[property];\n  return Postmate.Promise.resolve(unwrappedContext);\n};\n/**\n * Composes an API to be used by the parent\n * @param {Object} info Information on the consumer\n */\n\nvar ParentAPI =\n/*#__PURE__*/\nfunction () {\n  function ParentAPI(info) {\n    var _this = this;\n\n    this.parent = info.parent;\n    this.frame = info.frame;\n    this.child = info.child;\n    this.childOrigin = info.childOrigin;\n    this.events = {};\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Registering API');\n      log('Parent: Awaiting messages...');\n    }\n\n    this.listener = function (e) {\n      if (!sanitize(e, _this.childOrigin)) return false;\n      /**\n       * the assignments below ensures that e, data, and value are all defined\n       */\n\n      var _ref = ((e || {}).data || {}).value || {},\n          data = _ref.data,\n          name = _ref.name;\n\n      if (e.data.postmate === 'emit') {\n        if (process.env.NODE_ENV !== 'production') {\n          log(\"Parent: Received event emission: \" + name);\n        }\n\n        if (name in _this.events) {\n          _this.events[name].call(_this, data);\n        }\n      }\n    };\n\n    this.parent.addEventListener('message', this.listener, false);\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Awaiting event emissions from Child');\n    }\n  }\n\n  var _proto = ParentAPI.prototype;\n\n  _proto.get = function get(property) {\n    var _this2 = this;\n\n    return new Postmate.Promise(function (resolve) {\n      // Extract data from response and kill listeners\n      var uid = generateNewMessageId();\n\n      var transact = function transact(e) {\n        if (e.data.uid === uid && e.data.postmate === 'reply') {\n          _this2.parent.removeEventListener('message', transact, false);\n\n          resolve(e.data.value);\n        }\n      }; // Prepare for response from Child...\n\n\n      _this2.parent.addEventListener('message', transact, false); // Then ask child for information\n\n\n      _this2.child.postMessage({\n        postmate: 'request',\n        type: messageType,\n        property: property,\n        uid: uid\n      }, _this2.childOrigin);\n    });\n  };\n\n  _proto.call = function call(property, data) {\n    // Send information to the child\n    this.child.postMessage({\n      postmate: 'call',\n      type: messageType,\n      property: property,\n      data: data\n    }, this.childOrigin);\n  };\n\n  _proto.on = function on(eventName, callback) {\n    this.events[eventName] = callback;\n  };\n\n  _proto.destroy = function destroy() {\n    if (process.env.NODE_ENV !== 'production') {\n      log('Parent: Destroying Postmate instance');\n    }\n\n    window.removeEventListener('message', this.listener, false);\n    this.frame.parentNode.removeChild(this.frame);\n  };\n\n  return ParentAPI;\n}();\n/**\n * Composes an API to be used by the child\n * @param {Object} info Information on the consumer\n */\n\nvar ChildAPI =\n/*#__PURE__*/\nfunction () {\n  function ChildAPI(info) {\n    var _this3 = this;\n\n    this.model = info.model;\n    this.parent = info.parent;\n    this.parentOrigin = info.parentOrigin;\n    this.child = info.child;\n\n    if (process.env.NODE_ENV !== 'production') {\n      log('Child: Registering API');\n      log('Child: Awaiting messages...');\n    }\n\n    this.child.addEventListener('message', function (e) {\n      if (!sanitize(e, _this3.parentOrigin)) return;\n\n      if (process.env.NODE_ENV !== 'production') {\n        log('Child: Received request', e.data);\n      }\n\n      var _e$data = e.data,\n          property = _e$data.property,\n          uid = _e$data.uid,\n          data = _e$data.data;\n\n      if (e.data.postmate === 'call') {\n        if (property in _this3.model && typeof _this3.model[property] === 'function') {\n          _this3.model[property](data);\n        }\n\n        return;\n      } // Reply to Parent\n\n\n      resolveValue(_this3.model, property).then(function (value) {\n        return e.source.postMessage({\n          property: property,\n          postmate: 'reply',\n          type: messageType,\n          uid: uid,\n          value: value\n        }, e.origin);\n      });\n    });\n  }\n\n  var _proto2 = ChildAPI.prototype;\n\n  _proto2.emit = function emit(name, data) {\n    if (process.env.NODE_ENV !== 'production') {\n      log(\"Child: Emitting Event \\\"\" + name + \"\\\"\", data);\n    }\n\n    this.parent.postMessage({\n      postmate: 'emit',\n      type: messageType,\n      value: {\n        name: name,\n        data: data\n      }\n    }, this.parentOrigin);\n  };\n\n  return ChildAPI;\n}();\n/**\n  * The entry point of the Parent.\n * @type {Class}\n */\n\nvar Postmate =\n/*#__PURE__*/\nfunction () {\n  // eslint-disable-line no-undef\n  // Internet Explorer craps itself\n\n  /**\n   * Sets options related to the Parent\n   * @param {Object} object The element to inject the frame into, and the url\n   * @return {Promise}\n   */\n  function Postmate(_ref2) {\n    var _ref2$container = _ref2.container,\n        container = _ref2$container === void 0 ? typeof container !== 'undefined' ? container : document.body : _ref2$container,\n        model = _ref2.model,\n        url = _ref2.url,\n        name = _ref2.name,\n        _ref2$classListArray = _ref2.classListArray,\n        classListArray = _ref2$classListArray === void 0 ? [] : _ref2$classListArray;\n    // eslint-disable-line no-undef\n    this.parent = window;\n    this.frame = document.createElement('iframe');\n    this.frame.name = name || '';\n    this.frame.classList.add.apply(this.frame.classList, classListArray);\n    container.appendChild(this.frame);\n    this.child = this.frame.contentWindow || this.frame.contentDocument.parentWindow;\n    this.model = model || {};\n    return this.sendHandshake(url);\n  }\n  /**\n   * Begins the handshake strategy\n   * @param  {String} url The URL to send a handshake request to\n   * @return {Promise}     Promise that resolves when the handshake is complete\n   */\n\n\n  var _proto3 = Postmate.prototype;\n\n  _proto3.sendHandshake = function sendHandshake(url) {\n    var _this4 = this;\n\n    var childOrigin = resolveOrigin(url);\n    var attempt = 0;\n    var responseInterval;\n    return new Postmate.Promise(function (resolve, reject) {\n      var reply = function reply(e) {\n        if (!sanitize(e, childOrigin)) return false;\n\n        if (e.data.postmate === 'handshake-reply') {\n          clearInterval(responseInterval);\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Parent: Received handshake reply from Child');\n          }\n\n          _this4.parent.removeEventListener('message', reply, false);\n\n          _this4.childOrigin = e.origin;\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Parent: Saving Child origin', _this4.childOrigin);\n          }\n\n          return resolve(new ParentAPI(_this4));\n        } // Might need to remove since parent might be receiving different messages\n        // from different hosts\n\n\n        if (process.env.NODE_ENV !== 'production') {\n          log('Parent: Invalid handshake reply');\n        }\n\n        return reject('Failed handshake');\n      };\n\n      _this4.parent.addEventListener('message', reply, false);\n\n      var doSend = function doSend() {\n        attempt++;\n\n        if (process.env.NODE_ENV !== 'production') {\n          log(\"Parent: Sending handshake attempt \" + attempt, {\n            childOrigin: childOrigin\n          });\n        }\n\n        _this4.child.postMessage({\n          postmate: 'handshake',\n          type: messageType,\n          model: _this4.model\n        }, childOrigin);\n\n        if (attempt === maxHandshakeRequests) {\n          clearInterval(responseInterval);\n        }\n      };\n\n      var loaded = function loaded() {\n        doSend();\n        responseInterval = setInterval(doSend, 500);\n      };\n\n      if (_this4.frame.attachEvent) {\n        _this4.frame.attachEvent('onload', loaded);\n      } else {\n        _this4.frame.onload = loaded;\n      }\n\n      if (process.env.NODE_ENV !== 'production') {\n        log('Parent: Loading frame', {\n          url: url\n        });\n      }\n\n      _this4.frame.src = url;\n    });\n  };\n\n  return Postmate;\n}();\n/**\n * The entry point of the Child\n * @type {Class}\n */\n\n\nPostmate.debug = false;\n\nPostmate.Promise = function () {\n  try {\n    return window ? window.Promise : Promise;\n  } catch (e) {\n    return null;\n  }\n}();\n\nPostmate.Model =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Initializes the child, model, parent, and responds to the Parents handshake\n   * @param {Object} model Hash of values, functions, or promises\n   * @return {Promise}       The Promise that resolves when the handshake has been received\n   */\n  function Model(model) {\n    this.child = window;\n    this.model = model;\n    this.parent = this.child.parent;\n    return this.sendHandshakeReply();\n  }\n  /**\n   * Responds to a handshake initiated by the Parent\n   * @return {Promise} Resolves an object that exposes an API for the Child\n   */\n\n\n  var _proto4 = Model.prototype;\n\n  _proto4.sendHandshakeReply = function sendHandshakeReply() {\n    var _this5 = this;\n\n    return new Postmate.Promise(function (resolve, reject) {\n      var shake = function shake(e) {\n        if (!e.data.postmate) {\n          return;\n        }\n\n        if (e.data.postmate === 'handshake') {\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Received handshake from Parent');\n          }\n\n          _this5.child.removeEventListener('message', shake, false);\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Sending handshake reply to Parent');\n          }\n\n          e.source.postMessage({\n            postmate: 'handshake-reply',\n            type: messageType\n          }, e.origin);\n          _this5.parentOrigin = e.origin; // Extend model with the one provided by the parent\n\n          var defaults = e.data.model;\n\n          if (defaults) {\n            Object.keys(defaults).forEach(function (key) {\n              _this5.model[key] = defaults[key];\n            });\n\n            if (process.env.NODE_ENV !== 'production') {\n              log('Child: Inherited and extended model from Parent');\n            }\n          }\n\n          if (process.env.NODE_ENV !== 'production') {\n            log('Child: Saving Parent origin', _this5.parentOrigin);\n          }\n\n          return resolve(new ChildAPI(_this5));\n        }\n\n        return reject('Handshake Reply Failed');\n      };\n\n      _this5.child.addEventListener('message', shake, false);\n    });\n  };\n\n  return Model;\n}();\n\nexport default Postmate;\n","import jwt_decode from 'jwt-decode';\r\nimport Postmate from 'postmate';\r\n\r\nexport interface ThirdwebConfig {\r\n  connectUrl: string;\r\n}\r\n\r\nexport interface AutoPay {\r\n  authorizeAmount: number;\r\n  currency: string;\r\n}\r\n\r\nexport interface LoginRequest {\r\n  provider: string;\r\n}\r\n\r\nexport interface Position {\r\n  left: number;\r\n  top: number;\r\n}\r\n\r\nexport interface Size {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport interface TokenPayload {\r\n  iss: string;\r\n  aud: string;\r\n  iat: number;\r\n  exp: number;\r\n  autopay: AutoPay;\r\n}\r\n\r\nexport const DefaultThirdwebConfig: ThirdwebConfig = { connectUrl: 'https://connect.thirdweb.co/' };\r\n\r\nexport function initialize(config = DefaultThirdwebConfig): Thirdweb {\r\n  return new Thirdweb(config);\r\n}\r\n\r\nexport class Thirdweb {\r\n\r\n  private token: string | null = null;\r\n\r\n  private autopay: AutoPay | null = null;\r\n\r\n  private handshake: any;\r\n\r\n  constructor(private config = DefaultThirdwebConfig) {\r\n    this.processRedirectResult();\r\n    this.embedThirdweb();\r\n    this.loadToken();\r\n\r\n    if (this.token) {\r\n      this.handshake.then((child: any) => {\r\n        child.call('setClaimToken', this.token);\r\n      });\r\n    }\r\n  }\r\n\r\n  processRedirectResult() {\r\n    const match = window.location.hash.match(/#?&?thirdweb_token=([A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*)$/);\r\n    if (match) {\r\n      localStorage.setItem('thirdweb_token', match[1]);\r\n      let url = window.location.href.substring(0, window.location.href.length - match[0].length);\r\n      window.location.replace(url);\r\n    }\r\n  }\r\n\r\n  embedThirdweb() {\r\n    this.handshake = new Postmate({\r\n      container: document.body,\r\n      url: this.config.connectUrl,\r\n      classListArray: ['thirdweb-frame'],\r\n    });\r\n\r\n    const frame = document.querySelector('.thirdweb-frame') as HTMLIFrameElement;\r\n    frame.style.border = 'none';\r\n    frame.style.backgroundColor = 'transparent';\r\n    frame.style.position = 'fixed';\r\n    frame.style.right = '0px';\r\n    frame.style.top = '40px';\r\n    frame.style.overflow = 'none';\r\n\r\n    this.handshake.then((child: any) => {\r\n      child.on('size-changed', (size: Size) => {\r\n        child.frame.style.width = `${size.width}px`;\r\n        child.frame.style.height = `${size.height}px`;\r\n      });\r\n\r\n      child.on('position-changed', (position: Position)  => {\r\n        child.frame.style.top = `${position.top}px`;\r\n      });\r\n\r\n      child.on('login', this.loginRequest.bind(this));\r\n\r\n      child.on('logout', this.logoutRequest.bind(this));\r\n    });\r\n  }\r\n\r\n  loginRequest(data: LoginRequest) {\r\n    if (['facebook', 'google'].includes(data.provider)) {\r\n      window.location.replace(`${this.config.connectUrl}auth.html#auth_type=${data.provider}&redirect_uri=${window.location.href}`);\r\n    }\r\n  }\r\n\r\n  logoutRequest() {\r\n    localStorage.removeItem('thirdweb_token');\r\n    window.location.replace(`${this.config.connectUrl}auth.html#auth_type=logout&redirect_uri=${window.location.href}`);\r\n  }\r\n\r\n  loadToken() {\r\n    const token = localStorage.getItem('thirdweb_token');\r\n    if (!token) {\r\n      return null;\r\n    }\r\n\r\n    const payload: TokenPayload = jwt_decode(token);\r\n    if (!this.validateToken(payload)) {\r\n      localStorage.removeItem('thirdweb_token');\r\n    }\r\n\r\n    this.token = token;\r\n    this.autopay = payload.autopay;\r\n  }\r\n\r\n  validateToken(payload: TokenPayload) {\r\n    if (payload.iss !== 'https://connect.thirdweb.co') {\r\n      return false;\r\n    }\r\n\r\n    // Taken from RFC 3986: https://tools.ietf.org/html/rfc3986#appendix-B\r\n    const match = window.location.href.match(/^(([^:/?#]+):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/);\r\n    const authority = match && match[4];\r\n    if (payload.aud !== authority) {\r\n      return false;\r\n    }\r\n\r\n    if (payload.iat >= Date.now() / 1000) {\r\n      return false;\r\n    }\r\n\r\n    if (payload.exp <= Date.now() / 1000) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}"],"names":["jwt_decode"],"mappings":"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"}